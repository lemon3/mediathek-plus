// ==UserScript==
// @name         mediathek plus
// @namespace    https://github.com/lemon3/
// @version      0.8.1
// @description  mediathek plus is a userscript extension
// @author       lemon3
// @match        https://on.orf.at/*
// @icon         https://raw.githubusercontent.com/lemon3/mediathek-plus/main/_assets/dl.svg
// @grant        none
// @run-at       document-idle
// @noframes
// @license      MIT
// @copyright    lemon3
// @homepage     https://github.com/lemon3/mediathek-plus
// @updateURL    https://raw.githubusercontent.com/lemon3/mediathek-plus/main/dist/mediathek-plus.meta.js
// @downloadURL  https://raw.githubusercontent.com/lemon3/mediathek-plus/main/dist/mediathek-plus.user.js
// ==/UserScript==

var ee=Object.defineProperty;var U=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var S=(l,o,i)=>o in l?ee(l,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[o]=i,A=(l,o)=>{for(var i in o||(o={}))te.call(o,i)&&S(l,i,o[i]);if(U)for(var i of U(o))ie.call(o,i)&&S(l,i,o[i]);return l};var r=(l,o,i)=>(S(l,typeof o!="symbol"?o+"":o,i),i);var N=(l,o,i)=>new Promise((D,y)=>{var z=g=>{try{v(i.next(g))}catch(b){y(b)}},k=g=>{try{v(i.throw(g))}catch(b){y(b)}},v=g=>g.done?D(g.value):Promise.resolve(g.value).then(z,k);v((i=i.apply(l,o)).next())});(function(){"use strict";const l="body.dragging>*{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}#l3-5393{--color-1: #000;--color-2: #222;--color-3: #72bbe9;--color-4: #c9c9c9;--color-5: #222222;--color-6: #555555;--color-7: #aedaf5;--font-small: 12px;--font-tiny: 10px}#l3-5393{position:fixed;top:56px;left:0;z-index:99999;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;color:var(--color-4)}.l3-5393-info{font-size:var(--font-small)}#l3-5393-body .l3-5393-info{padding:15px}#l3-5393-clear{color:var(--color-1);background-color:var(--color-3);width:32px;height:32px;cursor:pointer;right:3px;top:3px;border-radius:50%;position:absolute;display:flex;justify-content:center;align-items:center}#l3-5393-header{width:100%;padding:15px}#l3-5393-header.hidden{display:none}.l3-5393-buttons{display:flex;font-size:14px;gap:.5em}.l3-5393-button{font-size:var(--font-small);color:var(--color-4);background-color:var(--color-5);cursor:pointer;display:flex;flex:1 1 auto;justify-content:center;text-align:center;width:50%;padding:.5em;border-radius:6px}.l3-5393-button.active{color:var(--color-2);background-color:var(--color-3)}.l3-5393-button.active:hover{background-color:var(--color-7)}#l3-5393-filter{display:flex;align-items:stretch;margin-top:1em;position:relative}#l3-5393-filter.hidden{display:none}#l3-5393-content{max-height:260px;overflow:scroll}#l3-5393-close{z-index:999999;position:fixed;top:8px;right:110px;padding:0;background-image:url(data:image/svg+xml;base64,PHN2ZyBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNTYgMjU2IiB2aWV3Qm94PSIwIDAgMjU2IDI1NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSIjZmZmIj48cGF0aCBkPSJtMTI4IDIzNS4zYy01OS4yIDAtMTA3LjMtNDguMi0xMDcuMy0xMDcuMy0wLTU5LjIgNDguMS0xMDcuMyAxMDcuMy0xMDcuM3MxMDcuMyA0OC4yIDEwNy4zIDEwNy4zYzAgNTkuMi00OC4xIDEwNy4zLTEwNy4zIDEwNy4zem0wLTIwMi42Yy01Mi42IDAtOTUuMyA0Mi44LTk1LjMgOTUuM3M0Mi44IDk1LjMgOTUuMyA5NS4zIDk1LjMtNDIuOCA5NS4zLTk1LjMtNDIuNy05NS4zLTk1LjMtOTUuM3oiLz48ZWxsaXBzZSBjeD0iOTYuMiIgY3k9Ijk2LjEiIHJ4PSIxOC4zIiByeT0iMjciLz48ZWxsaXBzZSBjeD0iMTU5LjgiIGN5PSI5Ni4xIiByeD0iMTguMyIgcnk9IjI3Ii8+PHBhdGggZD0ibTEyOC41IDE4OC44Yy0zOC42IDAtNTUuMi0yOC45LTU1LjktMzAuMi0xLjYtMi45LS42LTYuNSAyLjMtOC4yIDIuOS0xLjYgNi41LS42IDguMiAyLjMuNiAxIDE0LjEgMjQuMSA0NS40IDI0LjEgMzEuMiAwIDQzLjgtMjIuOSA0NC4zLTIzLjkgMS42LTIuOSA1LjItNCA4LjEtMi41czQuMSA1LjEgMi41IDguMWMtLjYgMS4yLTE2LjIgMzAuMy01NC45IDMwLjN6Ii8+PC9nPjwvc3ZnPg==);background-repeat:no-repeat;width:40px;height:40px;background-size:22px;background-color:var(--color-1);border-radius:50%;background-position:center center;box-shadow:0 2px 12px -3px #fffc;cursor:pointer;user-select:none}@media screen and (min-width: 744px){#l3-5393-close{right:170px}}#l3-5393-close.open{background-size:18px;background-image:url(data:image/svg+xml;base64,PHN2ZyBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNTYgMjU2IiB2aWV3Qm94PSIwIDAgMjU2IDI1NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMjQ2LjUgMjM0LjctMTA2LjctMTA2LjcgMTA2LjctMTA2LjctMTEuOC0xMS45LTEwNi43IDEwNi43LTEwNi43LTEwNi42LTExLjggMTEuOSAxMDYuNiAxMDYuNi0xMDYuNiAxMDYuNiAxMS44IDExLjkgMTA2LjctMTA2LjYgMTA2LjcgMTA2Ljd6IiBmaWxsPSIjZmZmIi8+PC9zdmc+)}#l3-5393-field{font-size:16px;touch-action:none;padding:8px 40px 8px 8px;height:38px;border:0;color:var(--color-2);width:100%;border-radius:6px;appearance:textfield}#l3-5393-field::-webkit-search-cancel-button,#l3-5393-field::-webkit-search-decoration,#l3-5393-field::-webkit-search-results-decoration{display:none}#l3-5393-field:focus{outline:none;box-shadow:0 0 0 3px var(--color-3)}#l3-5393-box{z-index:999999;box-sizing:border-box;margin:0;top:0;max-width:280px;width:280px;background-color:var(--color-1);transform:translate(-100%);position:relative;transition:transform .1s ease-out;border:1px solid var(--color-5);box-shadow:0 2px 12px -3px #fffc;border-radius:6px}#l3-5393-box.open{transform:translate(0);transition:transform .2s ease-out}.l3-5393-actions{display:flex;flex-direction:column;gap:.5em}.l3-5393-action{width:36px;height:36px;background-color:var(--color-3);display:flex;background-size:70%;background-repeat:no-repeat;background-position:center center;flex:none;border:none;border-radius:6px}.l3-5393-newTab{background-image:url(data:image/svg+xml;base64,PHN2ZyBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNTYgMjU2IiB2aWV3Qm94PSIwIDAgMjU2IDI1NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSIjMWQxZDFiIj48cGF0aCBkPSJtMjMzLjYgMjYuNGgtMTY3LjJjLTQuMSAwLTcuNSAzLjQtNy41IDcuNXYzOC4zaC0zNi41Yy00LjEgMC03LjUgMy40LTcuNSA3LjV2MTQwLjVjMCA0LjEgMy40IDcuNSA3LjUgNy41aDE2Ny4yYzQuMSAwIDcuNS0zLjQgNy41LTcuNXYtMzguMmgzNi42YzQuMSAwIDcuNS0zLjQgNy41LTcuNXYtMTQwLjZjLS4xLTQuMS0zLjQtNy41LTcuNi03LjV6bS01MS41IDE4Ni40aC0xNTIuMnYtMTI1LjVoMjkuMXY4Ny4yYzAgNC4xIDMuNCA3LjUgNy41IDcuNWgxMTUuN3YzMC44em00NC00NS44aC0yOS4xLTE1LTEwOC4xdi03OS43LTE1LTMwLjloMTUyLjJ6Ii8+PHBhdGggZD0ibTE5NS4yIDk2LjdoLTM3Ljd2LTM0YzAtNC4xLTMuNC03LjUtNy41LTcuNXMtNy41IDMuNC03LjUgNy41djM0aC0zNy43Yy00LjEgMC03LjUgMy40LTcuNSA3LjVzMy40IDcuNSA3LjUgNy41aDM3Ljd2MzRjMCA0LjEgMy40IDcuNSA3LjUgNy41czcuNS0zLjQgNy41LTcuNXYtMzRoMzcuN2M0LjEgMCA3LjUtMy40IDcuNS03LjVzLTMuMy03LjUtNy41LTcuNXoiLz48L2c+PC9zdmc+)}.l3-5393-shareBtn{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE1Ljk4NCA1LjAxNmwtMS40MDYgMS40MDYtMS41OTQtMS41OTR2MTEuMTU2aC0xLjk2OVY0LjgyOEw5LjQyMSA2LjQyMiA4LjAxNSA1LjAxNiAxMS45OTkuOTg1em00LjAzMiA0Ljk2OFYyMXEwIC44NDQtLjU4NiAxLjQzdC0xLjQzLjU4Nkg2cS0uODQ0IDAtMS40My0uNTg2VDMuOTg0IDIxVjkuOTg0cTAtLjc5Ny41ODYtMS4zODNUNiA4LjAxNWgzdjEuOTY5SDZWMjFoMTJWOS45ODRoLTNWOC4wMTVoM3EuODQ0IDAgMS40My41ODZ0LjU4NiAxLjM4M3oiLz48L3N2Zz4=)}.l3-5393-action:hover{background-color:var(--color-7);cursor:pointer}.l3-5393-result{padding:1em}.l3-5393-result:nth-child(odd){background-color:var(--color-5)}.l3-5393-main{display:flex;flex-flow:row nowrap;gap:.5em}.l3-5393-bar{display:flex;align-items:center}.l3-5393-title{font-size:var(--font-small);display:flex;width:100%;flex:1 0 100%;padding:.5em .5em .5em 0;line-height:1.4em}.l3-5393-imgWrap{display:flex;flex:1 1 auto;position:relative;cursor:pointer}.l3-5393-imgWrap img{max-width:100%}.l3-5393-copy{font-size:25px;position:absolute;text-align:center;width:100%;background-color:#0006;padding:6px;transition:opacity ease-out .2s;display:flex;justify-content:center;align-self:center}#l3-5393 .success .l3-5393-copy{opacity:1}.l3-5393-imgWrap.active{box-shadow:0 0 0 2px #ffff54;filter:brightness(1.2)}#l3-5393-footer{font-size:var(--font-tiny);text-align:right;padding:.5em}",o=(c,e,t)=>{if(e)for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&c.setAttribute(n,e[n]);if(t)for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(c.style[n]=t[n]);return c},i=(c,e,t)=>o(document.createElement(c),e,t);class D{constructor(){}get(e,t){let n=localStorage.getItem(e);if(!n)return!1;let a=JSON.parse(n);return t?a[t]:a}set(e,t){const n=this.get(e)||{},a=A(A({},n),t);let s=JSON.stringify(a);localStorage.setItem(e,s)}}let y=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return y={passive:!1},!1}}))}catch(c){y=!1}const _={name:"mediathek-plus",displayName:"mediathek plus",version:"0.8.1",type:"module",description:"mediathek plus is a userscript extension",main:"index.js",author:"lemon3",license:"MIT",scripts:{dev:"vite",build:"vite build",preview:"vite preview",lint:"eslint 'src/**/*.js' || true",prettify:"prettier --write 'src/**/*.*'",browserslistupdate:"npx update-browserslist-db@latest"},devDependencies:{eslint:"^9.3.0",prettier:"^3.2.5",vite:"^5.2.11","vite-plugin-banner":"^0.7.1","vite-plugin-create-file":"^0.1.0","vite-plugin-string-replace":"^1.1.2"},dependencies:{globals:"^15.3.0"}},L={btn:"Auf das Bild klicken um den video-link in die Zwischenablage zu kopieren",nothingFound:"Auf dieser Seite gibt es kein Video!",filterVideos:"Beiträge filtern ...",shareVideo:"Video Link teilen",openTab:"Video Link in neuem Tab öffnen",completeBroadcast:"Ganze Sendung anzeigen",individualPosts:"Einzelne Beiträge anzeigen"},P=_.version;let Z="Q8C",V="hls";const H=l.toString();let f;const x=(c,e=2)=>("0"+c).slice(-e),Q=c=>{let e=c.target.nextElementSibling;if(e.select(),navigator.clipboard){let t=e.innerHTML;return navigator.clipboard.writeText(t).then(()=>console.log("successful"),n=>console.log("error",n))}return document.execCommand("copy")},F=c=>{if(!navigator.share)return!1;const e=c.target,t=e.dataset.shareTitle,n=e.dataset.shareUrl;navigator.share({title:t,url:n}).then(()=>console.log("successful share")).catch(a=>console.log("error sharing:",a))};class w{constructor(e){r(this,"renderSearchResults",e=>{if(this.contentDiv.innerHTML="",!e.length)return null;const t="div",n=new DocumentFragment;for(let a=e.length-1;a>=0;a--){const s=e[a],d=i(t,{class:"l3-5393-result"}),u=i(t,{class:"l3-5393-bar"}),h=i(t,{class:"l3-5393-title"});h.innerHTML=s.title;const m=i("textarea",{class:"l3-5393-ta",disabled:"true"},{position:"absolute",left:"-999em",opacity:0}),M=i(t,{class:"l3-5393-imgWrap",title:L.btn}),p=i(t,{class:"l3-5393-copy"},{display:"none"});p.innerHTML="copied";const O=i("img",{src:s.img,width:"150"},{flex:"auto"});O.dataset.drm=s.drm===null?!1:s.drm;let C="";if(!s.drm){const W=s.date.getFullYear(),G=x(+s.date.getMonth()+1),X=x(s.date.getDate()),$=x(s.date.getHours()),J=x(s.date.getMinutes()),q=`${W}-${G}-${X}`,R=`${$}${J}`;let B=s.title.toLowerCase().replaceAll('"',"");B.replaceAll("'","");const K=`${q}_${R}_${B}.mp4`;C=`yt-dlp ${s.link} -o '${K}'`;const Y=i("div",{class:"l3-5393-actions"}),T=i("button",{class:"l3-5393-action l3-5393-shareBtn"});T.dataset.share=!0,T.dataset.shareUrl=s.link,T.title=L.shareVideo;const j=i("a",{class:"l3-5393-action l3-5393-newTab"});j.target="_blank",j.href=s.link,j.title=L.openTab,Y.append(j,T),u.append(Y)}m.innerHTML=C,M.append(O,m,p);const E=i("div",{class:"l3-5393-main"});E.append(M,u),d.append(h,E),n.append(d)}this.contentDiv.append(n)});r(this,"contentClicked",e=>{const t=e.target;if(this.currentActive&&(this.currentActive.classList.remove("active"),this.currentActive.querySelector(".l3-5393-copy").style.display="none"),t.nodeName.toLocaleLowerCase()==="img"&&t.dataset.drm&&t.dataset.drm==="false"){if(Q(e)){const a=t.parentElement,s=a.querySelector(".l3-5393-copy");clearTimeout(f),s.style.display="block",f=setTimeout(()=>{a.classList.add("active"),a.classList.add("success"),f=setTimeout(()=>{a.classList.remove("success"),f=setTimeout(()=>{s.style.display="none"},200)},500)},1),this.currentActive=a}}else t.nodeName.toLocaleLowerCase()==="button"&&typeof t.dataset.share!="undefined"&&F(e)});r(this,"cleanUp",e=>{e.advertising_mapping={},e.advertising_query_string="",e.adition_advertising_query_string="",e.show_display_ads=!1,e.show_instream_ads=!1,e.youth_protection=void 0,e.age_classification=void 0,e.disable_display_ads_orf_platforms=!0,e.disable_instream_ads_orf_platforms=!0});r(this,"open",()=>{this.mainDiv.style.display="block",f=setTimeout(()=>{this.mainDiv.classList.add("open"),this.closeBtn.classList.add("open"),this.searchField&&this.searchField.focus(),this.isOpen=!0,this.store.set(this.name,{open:this.isOpen}),clearTimeout(f)},1)});r(this,"close",()=>{this.mainDiv.classList.remove("open"),this.closeBtn.classList.remove("open"),f=setTimeout(()=>{this.mainDiv.style.display="none",this.isOpen=!1,this.store.set(this.name,{open:this.isOpen}),clearTimeout(f)},100)});r(this,"toggle",()=>{if(this.moved)return!1;this.isOpen?this.close():this.open()});r(this,"clear",()=>{this.searchField.value="",this.searchField.dispatchEvent(new Event("input")),this.searchField.focus()});r(this,"onInput",e=>{const t=e.currentTarget.value;this.searchNow(t),this.toggleClearBtn(t==="")});r(this,"fetchData",()=>N(this,null,function*(){let e=0,t;return new Promise((n,a)=>{const s=()=>{window.__NUXT__||a(),e++;let d=[];const u=window.__NUXT__.data;if(u&&Object.entries(u).forEach(m=>{const[M,p]=m;if(p.sources){d.push(p),this.cleanUp(p),this.currentKey=M;return}}),d.length){const h=d.filter(m=>document.location.pathname.match(m.id));return e=0,n(h[0])}else{if(e>20)return clearTimeout(t),t=null,a();t=setTimeout(()=>s(),150)}};s()})}));r(this,"createDataObject",()=>N(this,null,function*(){let e;try{return e=yield this.fetchData(),e&&(e=this.construct(e)),e}catch(t){return console.log(t),!1}}));r(this,"showAll",e=>{if(e&&this.activeTab===1)return!1;this.showAllButton.classList.add("active"),this.showSegmentsButton.classList.remove("active");const t=this.findData("*");this.filterElement.classList.add("hidden"),this.renderSearchResults(t),this.setActiveTab(1)});r(this,"showSegments",e=>{if(e&&this.activeTab===2)return!1;this.showAllButton.classList.remove("active"),this.showSegmentsButton.classList.add("active"),this.filterElement.classList.remove("hidden");let t=this.oldSearchString||this.searchField.value;this.toggleClearBtn(!t),this.searchField.focus(),this.oldSearchString=null,this.searchNow(t),this.setActiveTab(2)});r(this,"reInit",()=>{this.currentKey=null,this.autoSearch=this.oldSearchString,this.oldSearchString=null,this.contentDiv.innerHTML="",this.start()});r(this,"start",()=>N(this,null,function*(){if(this.dataObject=[],window.location.pathname.match(/video/)&&(this.dataObject=yield this.createDataObject()),!this.dataObject||!this.dataObject.length){this.header.classList.add("hidden"),this.contentDiv.innerHTML=`<div class="l3-5393-result" style="text-align:center;">${L.nothingFound}</div>`;return}if(this.dataObject&&this.dataObject.length===2){this.header.classList.add("hidden");const t=this.dataObject.filter(n=>n.type==="single");this.renderSearchResults(t);return}this.header.classList.remove("hidden"),this.searchField.value=this.autoSearch,this.activeTab===1?this.showAll():this.showSegments()}));this.settings=Object.assign({},w.defaults,e),this.name="dl-app",this.autoSearch="",this.oldSearchString=null,this.dataObject=[],this.currentSite=window.location.href,this.createWatcher(),this.settings.createGui&&this.createApp(),this.store=new D,this.init()}createWatcher(){const e=document.querySelector('[property="og:url"]'),t={attributes:!0},n=s=>{for(const d of s)d.type==="attributes"&&window.location.href!==this.currentSite&&(this.reInit(),this.currentSite=window.location.href)};return new MutationObserver(n).observe(e,t),!0}findData(e){if(!this.dataObject)return null;const t=e==="*"?"all":"single";return this.dataObject.filter(a=>a.type===t&&(e==="*"||a.title.toLowerCase().match(e.replaceAll("*",".*").toLowerCase())))}searchNow(e){if(this.oldSearchString===e)return;const t=this.findData(e);this.renderSearchResults(t),this.store.set(this.name,{search:e}),this.oldSearchString=e}toggleClearBtn(e){if(e){this.clearBtn.style.display="none",this.clearBtnVisible=!1;return}this.clearBtnVisible||(this.clearBtn.style.display="flex",this.clearBtnVisible=!0)}construct(e){window.playerObject=e;const t=[],n=(s,d="single")=>{this.cleanUp(s);let u=null,h=s.date||s.episode_date;if(h=new Date(h),s.sources[V].forEach(p=>{p.quality_key.toLocaleLowerCase()==="qxa"&&(u=p.src.replace("QXA",Z))}),!u)return!1;const m=typeof s.is_drm_protected!="undefined"?s.is_drm_protected:null;return{type:d,title:s.headline||s.title,drm:m,date:h,link:u,img:s.image&&s.image.image&&s.image.image.player&&s.image.image.player.url||null}},a=n(e,"all");return a&&t.push(a),e.segments&&e.segments.forEach(s=>{const d=n(s);d&&t.push(d)}),t}createApp(){const e="div",t=i(e,{id:"l3-5393"}),n=i(e,{id:"l3-5393-body"});this.mainDiv=i(e,{id:"l3-5393-box"},{display:"none"}),this.header=i(e,{id:"l3-5393-header"}),this.showAllButton=i(e,{class:"l3-5393-button"}),this.showAllButton.innerHTML=L.completeBroadcast,this.showSegmentsButton=i(e,{class:"l3-5393-button"}),this.showSegmentsButton.innerHTML=L.individualPosts,this.buttons=i(e,{class:"l3-5393-buttons"}),this.buttons.append(this.showAllButton,this.showSegmentsButton),this.header.append(this.buttons),this.filterElement=i(e,{id:"l3-5393-filter"}),this.searchField=i("input",{type:"search",id:"l3-5393-field",name:"query",value:"",autocomplete:"off",spellcheck:"false","aria-autocomplete":"none",placeholder:L.filterVideos}),this.clearBtn=document.createElement(e),this.clearBtn.id="l3-5393-clear",this.clearBtn.innerHTML="X",this.toggleClearBtn(!0),this.filterElement.append(this.searchField,this.clearBtn),this.header.append(this.filterElement),this.clearBtn.addEventListener("click",this.clear,!1),this.searchField.addEventListener("input",this.onInput,!1),this.mainDiv.append(this.header),this.closeBtn=i(e,{id:"l3-5393-close"}),this.closeBtn.addEventListener("click",this.toggle),this.contentDiv=i(e,{id:"l3-5393-content"});const a=i(e,{id:"l3-5393-footer"});a.innerHTML=`v-${P}`,n.append(this.contentDiv),this.mainDiv.append(n,a),t.append(this.mainDiv);const s=i("style");s.innerHTML=H,document.body.append(s,t,this.closeBtn),t.addEventListener("click",this.contentClicked),document.querySelector(".left-content").addEventListener("click",this.close),this.showAllButton.addEventListener("click",this.showAll),this.showSegmentsButton.addEventListener("click",this.showSegments),this.app=t}setActiveTab(e){this.store.set(this.name,{activeTab:e}),this.activeTab=e}init(){if(this.appInitialized)return!1;this.appInitialized=!0;let e=this.store.get(this.name);this.activeTab=1,e&&(typeof e.search!="undefined"&&(this.autoSearch=e.search),typeof e.open!="undefined"&&(this.isOpen=e.open),typeof e.activeTab!="undefined"&&(this.activeTab=+e.activeTab)),this.start(),this.isOpen&&(this.mainDiv.classList.add("open"),this.mainDiv.style.display="block",this.closeBtn.classList.add("open"))}}w.defaults={createGui:!0};const I=()=>{if(window.mediathekPlus_initialized)return!1;window.mediathekPlus_initialized=!0,new w};window.top===window.self&&(document.readyState==="complete"||document.readyState==="interactive"?(I(),document.removeEventListener("DOMContentLoaded",I)):document.addEventListener("DOMContentLoaded",I,!1))})();
